# 音乐保存机器人AI改版

## 版本信息
- **版本**: 1.0.47
- **基于**: MusicSaverBot 原版
- **改进**: 新增简化保存模式

## 主要功能

### 两种保存模式

#### 1. 简化模式 (simple_mode = true)
```
保存路径/
  ├── 歌曲名-歌手名.mp3
  ├── 歌曲名2-歌手名2.mp3
  └── ...
```
- ✅ 直接保存到根目录
- ✅ 文件名格式：`歌曲名-歌手名.ext`
- ❌ 不下载封面
- ❌ 不接受歌词文件

#### 2. 标准模式 (simple_mode = false)
```
保存路径/
  ├── 歌手名/
  │   ├── 专辑名/
  │   │   ├── 歌曲名-歌手名.mp3
  │   │   ├── cover.jpg
  │   │   └── 歌词.lrc
  │   └── 专辑名2/
  └── 歌手名2/
```
- ✅ 保存到 `歌手/专辑/` 目录结构
- ✅ 文件名格式：`歌曲名-歌手名.ext`
- ✅ 自动下载封面图片
- ✅ 支持歌词文件匹配

## 配置说明

### 基本配置
- **启用插件**: 开启/关闭插件
- **Bot Token**: Telegram Bot 的 Token
- **文件保存目录**: 音乐文件保存的根目录
- **白名单用户ID**: 允许使用机器人的用户ID（每行一个）

### 高级配置
- **自定义API**: 使用自定义 Telegram Bot API 地址
- **简化保存模式**: 切换保存模式（简化/标准）

## 使用方法

1. 在 MoviePilot 插件市场安装本插件
2. 配置 Bot Token 和保存路径
3. 选择保存模式（简化/标准）
4. 向 Telegram Bot 发送音频文件

## 与原版区别

### 原版 MusicSaverBot
- 固定目录结构：`歌手/专辑/`
- 始终下载封面和歌词

### AI改版 MusicSaverBotai
- **新增简化模式**：可选择直接保存到根目录
- **灵活配置**：根据需求选择是否需要封面和歌词
- **独立运行**：不会被原版插件更新覆盖

## 注意事项

1. 本插件与原版 MusicSaverBot 可以同时安装
2. 两个插件使用不同的配置前缀，互不干扰
3. 简化模式下发送歌词文件会被拒绝
4. 标准模式下歌词文件需要匹配 `歌曲名-歌手名.lrc` 格式

## 更新日志

### v1.0.47 (2025-12-04)
- ✨ 新增简化保存模式
- ✨ 支持两种目录结构切换
- 🐛 修复未定义变量错误
- 🐛 改进歌词文件精确匹配逻辑
- 🐛 修复 Windows 系统权限设置问题
